---
title: ツリーマップの表示形式を作成する方法
_description: Reveal でツリーマップの表示形式を作成して使用する方法を説明します。
_language: ja
---

# Reveal のツリーマップ

ツリーマップ表示形式は、階層データをネストされた四角形のセットとして表示するために使用されます。各レベルの四角形は、サイズと色が異なります。

タイル (四角形) の各特性は、データ分析で役割を果たします。

  * **色** - ツリーマップ表示形式で分割されるカテゴリを示します。この特性を定義するために使用されるフィールド データは、数値 (*123*)、文字列 (*ABC*)、または日付です。
  * **サイズ** - 各カテゴリの値を示します。サイズを決定するために使用されるフィールド データは、数値 (*123*) のみです。
  * **ラベル** - 表示形式の各四角形のカテゴリと値を表示します ([つまり、階層データがない場合](#階層データなしのツリーマップ表示形式))。[階層データを含むツリーマップ表示形式](#階層データのツリーマップ表示形式)がある場合、現在のレベルのカテゴリと値を示す追加のラベルがあります。


## 階層データなしのツリーマップ表示形式

以下に示すような**階層データなしの表示形式**を作成できます:

![An example of a treemap with no hierarchy](./images/treemap-visualization-without-hierarchical-data-example.png)

階層のないツリーマップを使用して、パターンおよび一部と全体の関係を魅力的で明確な方法で表示できます。

上記の表示形式は、*Product* ごとの *New Seats* を表示します。この表示形式を構成するには、次のことを行う必要があります:

1. **[新しい表示形式]** ダイアログで、**[サンプル データ]** を選択します。

    ![Sample Data in the list of data sources](images/sample-data-new-visualization-dialog.png)

2. **表示形式エディター**で、**ツリーマップ表示形式**を選択します。

    ![Treemap visualization in the Change Visualization dialog](images/treemap-chart-types.png)

3. ツリーマップ データ セクションで、**[ラベル]**に *Product* を、**[値]**に *New Seats* をドロップします。

**[ラベル]** (*Product*) にドロップされたデータは**色**を決定し、5 つの異なる四角形に表示形式を並べます。

最大のタイルは、最大の *New Seats* 値を示します。四角形は、**左上 (最大) から右下にサイズで配置されます**。

各四角形の**左下のラベル**には、各製品の概算値が丸めて表示されています。正確な値を表示するには、タイルをクリックまたはタップしてツールチップを表示します (スクリーンショットを参照)。

 ![Tooltip in a treemap](images/treemap-tooltip.png)

## 階層データのツリーマップ表示形式

階層データの処理は、ツリーマップの当初の目的です。階層に構成できる値のメトリックは 1 つだけですが、カテゴリは無制限です。

![Example of a hierarchical treemap visualization](images/treemap-visualization-hierarchical-data-example.png)

上記の例では、ツリーマップは、*Product* カテゴリによって決定される 5 つの大きな四角形 (ツリーマップのブランチ) に分割されています。各ブランチには、次のカテゴリ レベル - *Territory* によって決定された**小さな四角形が含まれています**。下位レベルは表示されません。

上記の例では、**2 種類のラベル**があることに気づくかもしれません。

- 左上の大きな四角形の場合 - 各製品の合計新規販売に関する情報を示します。
- 左下の小さな四角形の場合 - 特定の国で販売されている各製品の量を示します。

タイルの色とサイズの特性に関する情報は、[階層なしのツリーマップ](#階層データなしのツリーマップ表示形式)について述べたものと同様です。

### 階層レベルのドリル アップとドリル ダウン

ツリーマップ表示形式をドリル アップおよびドリル ダウンして、異なる階層レベル間を移動できます。これを行うには、**大きな四角形の領域をクリックします** (含まれるタイルに関係なく)。ツールチップで、**[ドリル ダウン/アップ]** を選択します。

![Select drill down in tooltip](images/drilling-option-hierarchy-level.png)

### ツリーマップ レベルの詳細

階層の最下部 (**ラベル**にドロップされた最後のフィールド) に到達すると、表示形式は[フラット ツリーマップ](#階層データなしのツリーマップ表示形式)のようになります。

![Tooltips in the bottom of a treemap](images/treemap-totals-label.png)

ツリーマップ表示形式の上部 (左側) にある**合計ラベル**は、すべてのレベルで変化します。*Totals* は、**[ラベル]** の各階層レベルの **[値]** フィールドの変更を反映しています (前の例の合計を比較してください)。上の例の合計ラベルには、日本での製品 B のすべての新規販売が表示されます。

**タイトルのパンくずリスト**を使用して、表示されている現在のレベルを識別します。それらをクリックまたはタップして移動することもできます (ドリル アップの代わりに)。

## 表示形式エディター設定の操作

![Settings section in the Visualization editor](images/treemap-settings-visualization-editor.png)

ツリーマップ表示形式の **[設定]** セクションでは、以下を設定できます:

- **タイトルの表示** - 表示形式のタイトルを表示するかどうかを選択します。
- **値の表示** - カテゴリに関する情報を表示する**ラベル**とさまざまなレベルの四角形の値を表示するかどうかを選択します。
- **開始色** - 10 色のパレットから開始色を選択します。Reveal は選択に基づいて配色を調整します。
- **リンク** - 表示形式をダッシュボードまたは URL に接続します。詳細は、[ダッシュボード リンク](../dashboard-linking.md)をご覧ください。
