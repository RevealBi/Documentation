---
title: 散布マップの表示形式を作成する方法
_description: Reveal で散布マップの表示形式を作成して使用する方法を説明します。
_language: ja
---

# 散布マップ

このマップは、地理座標を使用して地理領域に散布マーカーを表示します。マーカーの視覚的な分布は、データ内の密度および空間パターンを識別するのに役立ちます。サイズや色を追加すると、他のポイントと比較してデータに関する詳細情報を表示できます。

散布マップを使用すると、複数のマップ サービスに接続して、マップの背景をよりリアルにするだけでなく、詳細を調べることもできます。不動産市場分析を表示する場合など、一部のシナリオでは、マップに近所や通りを表示する機能が追加されます。

![Different scatter maps visualizations in a dashboard](images/scatter-maps-dashboard.png)

## 散布マップの使用

以下の情報は、必要に応じて最適な散布マップの構成を選択する際に役立ちます。

### 基本ドット マップとは?

Reveal の最も基本的な散布マップは、選択した領域に均一な色のドットをプロットしたものです。

ドット マップは、エンティティの地理的分布を表示する優れた方法で、ドットがマップ上でクラスター化するときにパターンを明らかにできます。1 つのドットは 1 つのエンティティを表すため、各オブジェクトはデータセットの地理位置情報を使用してマップに表示されます。

1 対多のドット マップは Reveal ではサポートされません。つまり、1 つのドットが複数のオブジェクトを表すことはできないため (1 ドット = 1000 人)、散布ドット マップを使用して人口密度マップなどを作成することはできません。

### バブル マップとは?

基本散布マップにサイズ カテゴリを追加すると、バブル マップが作成されます。異なる場所の定量データの比較に最適です。

バブルのサイズは、比較される特定の変数の値を示します。比較効果を得るには、データセットに比較変数のさまざまな値が含まれていることが最適です。それ以外の場合、マップのバブルはサイズが同じように表示されます (以下の例を参照)。

![Bubble map showing similar density of population in European countries except for Monaco](images/bubble-map-density-population-europe-bad-example.png)

上記のスクリーンショットのように**外れ値**を特定してフォーカスしない限り、表示形式の選択を再検討する必要があります。

バブルは、緯度と経度のデータで定義された正確な場所にバインドされていません。それらの場所は概算ですが、バブルは情報を伝達する領域に表示される必要があります。たとえば、米国全土で最も危険な領域に関するレポートを作成する場合、ほとんどの場合、報告された各犯罪の正確な場所は必要ありません。集計された犯罪データに基づいてサイズ設定されたバブルを正しい領域にプロットする必要があります。

:::note
考慮する必要がある潜在的な問題は、過度に大きいバブルが複数の領域に広がる可能性があることです。この場合、[バブル ツールチップ](#バブル-マップ)のテキストに場所データを追加すると、オーバーサイズのバブルが属する領域をユーザーが識別しやすくなります。
:::

### 色付き散布マップとは?

色を使用すると、マップがわかりやすくなり、分析に変数を追加できます。

カテゴリ別に色分けされたシンプルなドット マップは、オブジェクトの分布が多いクラスターや領域に注意を引くのに適しています。たとえば、異なる州の空港の色が異なる場合、最も多くの空港がある州をすばやく識別できます (以下を参照)。

![A scatter map showing the distribution of US airports with dots colored by state](images/scatter-dot-different-colors.png)

値で色分けされたドット マップは、大きなバブルが重なり合うリスクを回避しながらインサイトを提供します。たとえば、ヨーロッパの高齢人口の傾向を一目で確認したい場合は、人口の中年の色でドット マップを作成し、低、中、高の平均年齢を示す色を設定します。

![A scatter map showing the average age of Euro Population with dots colored by using conditional formatting for medium age](images/scatter-dot-map-colored-by-value.png)

ただし、個々の場所の 2 つの値の相関関係を表示する場合は、一方の値をサイズで、もう一方の値を色で表示します。前の例を使用すると、人口の年齢別にドットに色を付け、国の国内総生産に基づいてサイズを設定して、国の豊かさと平均余命の相関関係を示すことができます。

## 散布マップのズーム

散布マップを使用すると、マーカーがより密にプロットされている領域、または [マップ] ドロップダウンの一部ではない領域 (バルカン半島など) にズームインしてフォーカスできます。ズーム領域を保存し、このビューをダッシュボードに保持することもできます。

マップが最大化される場合、**ダッシュボード ビュー モード**または**表示形式エディター**でもズームインおよびズームアウトできます。

散布マップを最大化すると、ズーム コントロールが表示され、ズーム レベルをより適切に調整し、必要に応じてリセットできます。

![A scatter map displaying the zoom control](images/scatter-map-zoom-control.png)

上記のように、マップの右下にいくつかのボタンが表示されます。[ズームのリセット] ボタンをクリックすると、マップのズームが最後に保存されたときのズーム レベルにリセットされます。

ズームを使用すると、Reveal がマップの背景として使用するクリアな図形を変更することもできます。選択したズーム レベルで、グレーの領域を、以下のいずれかのマップ サービスで提供される**画像タイル**と呼ばれる詳細な実際のマップで置き換えることができます。

* *Bing*
* *Esri*
* *Mapbox*

![A scatter map showing the average age of Population in East Asia zoomed in and using image tiles](images/scatter-map-image-tiles-enabled.png)


## 散布マップの作成

Reveal の散布マップは、表示するデータに基づいて地理分析のさまざまな機会を提供します。

### 場所のデータ要件

散布マップの表示形式は、地理座標を使用してデータをプロットします。各データ ポイントには、緯度と経度の値を表示する必要があります。Reveal で受け入れられる形式は次のとおりです:

* 緯度と経度にそれぞれ **2 つの異なる列**。
* **緯度/経度** (10 進角形式)、例: -46.896388、168.126111

:::note
**受け入れられない形式**: *46° 53.783333'* などの分と秒の記号を含む緯度/経度形式、およびサフィックスを含む形式 (*- 46° 53' 47'' South, 168° 7' 34'' E*) は受け入れられません。
:::

**[表示するデータはありません。]** メッセージは、緯度と経度のデータが正しく、受け入れられた形式であっても、表示形式エディターに表示される場合があります。これは、地理座標が選択したマップの境界の外側にプロットされている場合に発生する可能性があります。

### 基本的なドット マップ  

![A dot map showing the distribution of airports across the US](images/scatter-dot-map-airports.png)

データセットの**緯度**と**経度**のデータのみを使用して、ドット マップを作成できます。データ ソースにこれらのフィールドが含まれていない場合は、別のデータ ソースから追加できます。

また、[散布マップデータ] セクションの [マップ] ドロップダウンから事前定義されたマップの 1 つを選択する必要があります。

さらに、オプションのラベル プレースホルダーにデータを入力して、緯度と経度のデフォルトのツールチップ テキストをデータ内の関連するラベル フィールド値に置き換えることができます。上のスクリーンショットでは、ドットは空港の住所に基づいて地図上に配置されていますが、ツールチップ テキストに空港の名前を使用することもできます。

このマップの概念は単純であるため、タイトルを表示するかどうかを選択し、[設定] セクションでドットの色を設定することしかできません。


### バブル マップ

可変サイズのマーカーまたはバブルを使用して散布マップを作成することもできます。

![A bubble map showing the electoral college votes distribution across US states](images/scatter-bubble-map-electoral-college.png)

バブル マップは、基本的なドット マップと同じデータを使用して作成されます。さらに、[バブル半径] プレースホルダーに数値フィールドをドロップする必要があります。

バブルのツールチップには、次の 2 つの部分があります: 

* 太字のタイトル - [ラベル] のフィールドからのデータを使用します。
* コンテンツ - [バブル半径] のフィールドの名前と値で構成されます。

**バブル ツールチップ**は、対象ユーザーが地図を読むのに役立ちます。これにより、バブル サイズが何を表しているのかがわかり、正確な値が得られます。バブルがマップ上の実際の領域であるという誤解を避けるのに役立ちます。

### 散布マップに色を追加 

散布マップを使用すると、色で示される追加の 3 番目の変数を表示できます。色の追加は、ドット マップとバブル マップの両方のオプションです。

![A scatter map showing the average age of Euro Population sized by number and colored using conditional formatting for medium age](images/scatter-color-average-age-euro-population.png)

マップ上の色は、次の方法で決定できます:

* **値** - 数値データ フィールドを使用するのが最適です。テキスト フィールドをドロップすると、データが自動的に集計され、Reveal は**行数**を使用して色を決定します。  

* **カテゴリ** - テキスト フィールドが必要です。ただし、数値フィールドを指定すると、その値はテキストとして処理されます。つまり、集計は適用されず、個々の値ごとに個別の色が作成されます。

### スタイル設定の構成

**散布マップ**のスタイル設定には、表示形式の**タイトル**と**凡例**の表示/非表示、およびマップ上のマーカーの色とタイプの構成が含まれます。

色の設定は、散布マップの種類によって異なります。

均一な色のマーカーを使用する**基本的なドットおよびバブル マップ**の場合、**[開始色]** の 10 色パレットから色を選択できます。

**カテゴリ別の色の散布マップ**の場合、**[別のマーカーの使用]** を選択できます。この機能を有効にすると、Reveal は、正方形、三角形、ドット、星、八角形などの色と記号の組み合わせを使用して、カテゴリごとに一意のマーカーを自動的に作成します。

**値別の色の散布マップ**の場合、カラー スキームを構成できます。**[カラー バリエーション]** ドロップダウンに 3 つのオプションが表示されます。

![Color as options in the Style Settings section](images/color-as-scheme-options.png)

* **[単色]** - マップ上のすべてのマーカーを同じ色でスタイルを設定します。
* **[値範囲]** - 7 色のいずれかを使用してマーカーのスタイルを設定します。明るい色から暗い色に進む色は、データ値を低いものから高いものへと表します。**[開始色]** を選択することもできます。これにより、7 つの色合いの中央の色が決まります。
* **[条件付き書式]** - このスキームを使用すると、最大 3 つの範囲 (上、中、下) までのデータ範囲ごとにスタイリング ルールを確立できます。低い値が適しているかどうかは情報の性質によります。Reveal には状況に応じて最も理にかなった方法でスタイルを設定できる柔軟性があります。
