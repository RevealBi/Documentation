---
title: 表示形式に階級区分図を使用する方法
_description: 階級区分図を使用して地理的データを表示する方法を説明します。
_language: ja
---

# 階級区分図

階級区分図は、分割された地理的領域または地域の統計データを表すことを目的とした広範なテーマ別のマップです。マップの各領域は、データ変数に関連して均一な色で塗りつぶされます。
このトピックでは、マップの領域を「図形」とも呼びます。

![A choropleth map showing 2016 general elections in the US](images/presidential-election-2016-map-example.png)
Reveal では、階級区分図に表示されるマップ タイプは一般的な政治マップです。つまり、マップ内の個々の図形は大陸、国、州、郡、政治組合などです。

マップは以下の 3 つの異なる配色をサポートします。

  * **単色**は、データを含むすべての図形を同じ色でスタイル設定します。データのない図形はグレーアウトされます。

  * **値範囲**は、7 色のいずれかを使用して図形をスタイル設定します。明るい色から暗い色は、低から高へのデータ値を表します。

  * **マップ カラー**は、[マップ カラー] フィールドの一意の識別子にテーマの色を割り当てます。この配色では、図形はその図形の最高値/最低値を持つ識別子に基づいてスタイル設定されます。[この例](#マップ-カラーを使用したマルチカラー階級区分図の作成)を参照してください。

マップ カラーを設定する方法については、[階級区分図の設定](settings-choropleth-map.md)トピックを参照してください。

Reveal の階級区分図では、階層データを[ドリル ダウン](#階層レベルのドリル-アップとドリル-ダウン)することもできます。

## 階級区分図の表示形式の使用

通常、階級区分図は、公開レポート、統計分析、および境界が重要なその他の情報をわかりやすく表示するために使用されます。階級区分図は、数量の密度 (比率) の表示、領域の比較、トレンドの確認、パターンおよび異常の検出に最適です。たとえば、階級区分図を使用して米国のマップで肥満率の高い地域を検索したり、ヨーロッパ全体での殺人率を表示したりできます。

階級区分図でのデータの使用方法に注意してください。大きさであまりにも異なる領域を比較したい場合があります。データをデータ点数 (数値) ではなく、**レート/比率** (パーセンテージ) で表示することをお勧めします。

たとえば、異なる国の交通死を生の数のみで比較した場合、人口により誤解を与える結果が得られます。データ点数が大きいため、中国など人口密度の高い国は常に暗い色で表示されます。

以下は、東アジアの人口 10 万人あたりの交通死を示すマップです。ここでは、大国の人口に惑わされることなく、アジア諸国の運転文化について現実的な結論を出すことができます。

![A choropleth map of Eastern Asia showing traffic deaths per 100 000](images/road-traffic-deaths-eastern-asia-example.png)

階級区分図の表示形式のためのデータ選択は、提供したい情報に依存します。地域全体で伝染病の広がりを示したい場合、データ点数を使用することが適切です。


## 場所データのデータ要件

Reveal には、階級区分図の表示形式に使用できるさまざまな定義済みマップがあります。データセットで提供するために必要な最低限の情報は以下のとおりです。

  - 特定の場所の定量データ (値)。

  - 場所名。

データセットの**場所名**列は、選択したマップの実際の地理単位と一致する必要があります。たとえば、米国マップを選択した場合、データセットに州の名前を含む列を提供する必要があります。

Reveal に場所の列を認識させるには、場所の完全名または公式の 2 文字または 3 文字の略語を入力します。完全名と略語を混在させないでください。

場所の形式および要件の詳細については、[階級区分図のデータを準備する方。法場所のデータ要件](location-data-requirements.md)を参照してください。

## 階級区分図の作成

以下の例では、階級区分図を使用して、米国での最後の大統領選挙 (2016 年) の結果を分析します。

このチュートリアルを実行するには、<a href="/data/2016_November_General_Election.xlsx" download>2016 November General Election</a> スプレッドシートをダウンロードし、クラウド プロバイダーにアップロードして以下の手順を実行します。

1. スプレッドシートをアップロードしたクラウド プロバイダーに接続します。

2. 表示形式エディターで、**階級区分図**の表示形式を選択します。
![Select choropleth map visualization from the list of chart types](images/chart-types-choropleth.png)
3. **[階級区分図データ]** セクションで、**[マップ]** ドロップダウン メニューから [アメリカ合衆国の州] マップを選択します。米国のマップのアウトラインが画面に表示されます。
![List of available maps](images/list-available-maps.png)
4. **[場所]** プレースホルダーに **State** または **State Abv** フィールドをドロップします。両方とも米国の州のリストを含みます。

5. **[値]** で、マップする定量データを含むフィールドを選択します。この例では、すべての州の投票率を含む **Total Votes (%)** を使用します。

6. **[値]** フィールドを書式設定してパーセンテージを表示します。**[値]** ⇒ **[書式設定]** ⇒ **[タイプ]** ⇒ **[パーセント]** で **Total Votes (%)** を選択します。

7. **[データ フィルタ]ー** プレースホルダーでフィールドを選択すると、フィルターを追加できます **(オプション)**。 

その結果、州ごとに分割された USA マップが表示されます。州の有権者の割合が大きいほど、その州の青色が強くなります。

![Choropleth map visualization](images/choropleth-visualization-example.png)

## マップ カラーを使用したマルチカラー階級区分図の作成

代わりに、**[マップ カラー]** プロパティを設定して、マップの各領域の色を制御できます。これは、領域内でどの候補者または政党が上位/下位票を獲得したかなどを反映するのに役立ちます。

![A choropleth map using the color category](images/color-choropleth-map-example.png)

上記の例では、Donald Trump、Hillary Clinton、および Other が 2016 年の投票で比較されています。州の色は、選挙で誰が最も多く投票されたかによって異なります。

色付け条件を変更するには:

**[設定]** ⇒ **[カラーの基準値]** ⇒ **[最高値]**。


## 階層レベルのドリル アップとドリル ダウン

階級区分図領域をドリル アップおよびドリル ダウンして、場所データの階層レベルを動的に検出できます。

ドリル ダウン オプションを有効にするには、**[場所]** プレースホルダーで複数のデータ フィールドを追加して下位レベルを作成する必要があります。たとえば、新しい階層レベルとして米国の州の下に郡を追加すると、州レベルで全体像を表示し、郡レベルで詳細を調査することもできます。

マップ上の図形をホバーすると強調表示され、ツールチップが表示されます (以下を参照)。[ドリル ダウン] オプションをクリックして、次の場所階層レベルのマップを表示します。
![Drill down to tooltip shown for a state](images/drill-down-option-choropleth-map.png)

:::note
**利用可能なマップ:** 下位レベルのマップが使用可能な場合のみ、マップにドリル ダウンできます。**[階級区分図データ]** セクションの **[マップ]** で使用可能なマップを検索します。
:::